<div id="errorMessage" class="container restrictWidth" *ngIf="!authorized">
  <div class="alert alert-danger p-2 mt-4">
    <span>Sie sind nicht dazu berechtigt, diese Umfrage zu bearbeiten.
      Bitte wenden Sie sich an den Ersteller dieser Umfrage.</span>
  </div>
</div>

<section id="surveyForm" class="container restrictWidth" [formGroup]="updateEndDateForm" *ngIf="survey && authorized">
  <h2 class="text-center my-3">
    Zeitraum bearbeiten
  </h2>

  <div class="card card-body mt-4">
    <div class="row my-3 fontSize18px align-items-center">
      <div class="col-sm-2">
        <span class="bolderText">Zeitraum:</span>
      </div>
      <div class="col-auto my-2 my-sm-0">
        <span class="ms-2">{{ survey?.startDate | date: 'dd.MM.yyyy' }}  {{ survey?.startDate | date: 'HH:mm' }}
          Uhr&nbsp;&nbsp;-
        </span>
      </div>
      <div class="col">
        <input id="endDate" name="endDate" type="datetime-local" class="form-control fontSize18px" required
               formControlName="endDate">

      </div>
    </div>
    <div *ngIf="(endDate?.invalid && (endDate?.dirty || endDate?.touched))"
         class="alert alert-danger p-2 mt-3">
      <div *ngIf="endDate?.errors?.required">
        Bitte geben Sie ein Enddatum an.
      </div>
      <div *ngIf="endDate?.errors?.dateInPast">
        Das Enddatum muss in der Zukunft liegen.
      </div>
    </div>

    <div class="row my-3">
      <div>
        <button type="button" class="btn btn-success me-2 float-end" (click)="patchEndDate()"
                [disabled]="updateEndDateForm.invalid">
          Speichern
        </button>
      </div>
    </div>
  </div>

</section>

<div class="container restrictWidth" *ngIf="errorMessages.length !== 0">
  <div class="errorMessage alert alert-danger p-2 my-2 mx-1 d-block" *ngFor="let errorMessage of errorMessages">
    {{ errorMessage }}
  </div>
</div>
